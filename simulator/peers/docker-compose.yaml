version: '3.3'

networks:
  outside:
    external:
      name: proxdag

services:
  peer0.proxdag.io:
    container_name: peer0.proxdag.io
    image: lekssays/proxdag:latest
    environment:
    - MY_NAME=peer0.proxdag.io
    - MY_ID=0
    - MY_PUB_KEY=Jxb9nFYjOWZCvd8e08GkD9foH
    - GOSHIMMER_API_ENDPOINT=goshimmer.proxdag.io:8081
    - IPFS_API_ENDPOINT=ipfs.proxdag.io:5001
    - LEVEL_DB_PATH=/proxdagDB
    - PROXDAG_ENDPOINT=goshimmer.proxdag.io:8080/proxdag
    command: /bin/bash /client/hello.sh
    working_dir: /client
    volumes:
    - ./../../proxdagDB:/proxdagDB
    - ./../../protocol:/protocol
    - ./client/:/client

    networks:
    - outside

  peer1.proxdag.io:
    container_name: peer1.proxdag.io
    image: lekssays/proxdag:latest
    environment:
    - MY_NAME=peer1.proxdag.io
    - MY_ID=1
    - MY_PUB_KEY=bfWtE3K3WrsDQRpDWadtNOXzr
    - GOSHIMMER_API_ENDPOINT=goshimmer.proxdag.io:8081
    - IPFS_API_ENDPOINT=ipfs.proxdag.io:5001
    - LEVEL_DB_PATH=/proxdagDB
    - PROXDAG_ENDPOINT=goshimmer.proxdag.io:8080/proxdag
    command: /bin/bash /client/hello.sh
    working_dir: /client
    volumes:
    - ./../../proxdagDB:/proxdagDB
    - ./../../protocol:/protocol
    - ./client/:/client

    networks:
    - outside

